{"version":3, "file":"kernel_coreuploader.js", "sections": [{"offset": { "line": 6, "column": 0 }, "map": {"version":3,"file":"/bitrix/js/main/core/core_uploader/common.min.js","sources":["/bitrix/js/main/core/core_uploader/common.js"],"names":["window","BX","UploaderLog","UploaderDebug","statuses","new","ready","preparing","inprogress","done","failed","stopped","changed","uploaded","UploaderUtils","getId","Date","valueOf","Math","round","random","log","console","arguments","push","Hash","this","length","items","order","i","type","isArray","data","setItem","getFileNameOnly","name","delimiter","start","lastIndexOf","finish","substring","indexOf","isImageExt","ext","message","isNotEmptyString","RegExp","test","isImage","size","isNumber","parseInt","substr","toLowerCase","scaleImage","arSourceSize","arSize","resizeType","sourceImageWidth","sourceImageHeight","width","height","res","bNeedCreatePicture","source","x","y","destin","DoNothing","ResizeCoeff","iResizeCoeff","max","min","coeff","dataURLToBlob","dataURL","marker","parts","contentType","raw","rawLength","split","Blob","atob","uInt8Array","Uint8Array","charCodeAt","sizeof","obj","key","hasOwnProperty","toString","FormToArray","form","ajax","prepareForm","getFormattedSize","precision","a","pos","bindEvents","event","func","funcs","ii","eval","addCustomEvent","applyFilePart","file","blob","isDomNode","uploadStatus","blobed","package","packages","getFilePart","firstChunk","MaxFilesize","chunkSize","end","chunk","MozBlobBuilder","WebKitBlobBuilder","BlobBuilder","ceil","mozSlice","webkitSlice","slice","Slice","makeAnArray","files","props","jj","appendToForm","fd","val","append","FormData","Uploader","getInstanceName","FormDataLocal","prepareData","arData","util","urlencode","uniqueID","floor","local","create","id","method","enctype","encoding","style","display","document","body","appendChild","prototype","value","readFile","callback","fileReader","FileReader","onload","onerror","getIds","getQueue","array_search","getByOrder","getItem","removeItem","in_key","tmp_value","number","pointer","deleteFromArray","unshiftItem","in_value","unshift","hasItem","insertBeforeItem","after_key","splice","getFirst","item","getNext","getPrev","reset","setPointer","getLast"],"mappings":"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"}},{"offset": { "line": 10, "column": 0 }, "map": {"version":3,"file":"/bitrix/js/main/core/core_uploader/uploader.min.js","sources":["/bitrix/js/main/core/core_uploader/uploader.js"],"names":["window","BX","statuses","new","ready","preparing","inprogress","done","failed","error","stopped","changed","uploaded","repo","settings","phpPostMinSize","phpUploadMaxFilesize","phpPostMaxSize","estimatedTimeForUploadFile","maxTimeForUploadFile","Uploader","params","ii","debug","message","parseInt","phpMaxFileUploads","this","fileInput","controlID","controlId","dialogName","id","type","isNotEmptyString","Math","random","CID","UploaderUtils","getId","streams","UploaderStreams","limits","min","uploadMaxFilesize","uploadFileWidth","uploadFileHeight","allowUpload","allowUploadExt","keys","length","ext","split","indexOf","charAt","substr","join","init","initDropZone","hasOwnProperty","bindEvents","uploadFileUrl","form","getAttribute","status","fileFields","fileCopies","queueFields","queue","UploaderQueue","addCustomEvent","delegate","item","node","create","props","name","value","hash","appendChild","parentNode","insertBefore","file","data","preparePost","mode","ajax","get","onCustomEvent","uploads","Hash","upload","__beforeunload","terminate","e","confirmationMessage","event","returnValue","bind","prototype","log","mkFileInput","onChange","text","dropZone","DD","isDomNode","dropFiles","supported","FormData","isSupported","f","files","dt","entry","fileCopy","replace","isFile","push","dragEnter","isFileTransfer","i","addClass","DIV","dragLeave","removeClass","onAttach","nodes","check","clear","isArray","result","j","added","pop","toLowerCase","submit","PreventDefault","target","disabled","DoNothing","oldNode","unbindAll","cloneNode","adjust","attrs","multiple","accept","removeChild","prepareForm","post","post2","AJAX_POST","SITE_ID","USER_ID","filesCount","size","FormToArray","sizeof","bitrix_sessid","inputName","start","stop","adjustProcess","streamId","pIndex","percent","itFailed","hasItem","progress","setItem","itForUpload","removeItem","itUploaded","percentPerChunk","packages","chunks","getThumbs","packageFormer","packagesFormer","getFirst","UploaderPackage","proxy","stream","pack","proc","restoreFiles","res","checkUploads","procent","getItem","getItems","items","restoreItems","apply","arguments","deleteFile","UploaderSimple","superclass","constructor","previews","setTimeout","onFileNeedsPreview","raw","getIds","dealWithFile","extend","del","srcElement","~name","copy","url","uploadStatus","nonProcessRun","onFileNeedsPreviewCallback","Blob","objName","getInstanceName","getInstance","eval","manager","packageIndex","startSize","_exec","exec","checkFile","getFormattedSize","packStream","filesSize","fd","appendToForm","prepareData","postName","thumb","package","append","action","packFiles","count","postSize","blob","tmp","callback","cf","getProps","fileConstructor","Object","toString","call","canvas","getFilePart","applyFilePart","shift","makeAnArray","__onAllStreamsAreKilled","removeCustomEvent","reinit","doneStream","errorStream","progressStream","preparationStatus","startStreaming","send","sended","kill","adjustPostSize","increase","sugestedSize","deltaTime","xhr","finishTime","startTime","ceil","max","merge","ar1","ar2","jj","response","ij","copies","reset","getNext","err","unshiftItem","defaultTextError","UploaderStream","_id","streamsManager","_onsuccess","onsuccess","_onfailure","onfailure","_onerror","onerror","_onprogress","onprogress","local","util","htmlspecialcharsback","test","parseJSON","method","dataType","processData","skipAuthCheck","timeout","addEventListener","d","Date","getTime","sessid","path","location","pathname","lengthComputable","loaded","restore","uploader","killedStreams","_restore","_kill","handler","defer_proxy"],"mappings":"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"}},{"offset": { "line": 16, "column": 0 }, "map": {"version":3,"file":"/bitrix/js/main/core/core_uploader/file.min.js","sources":["/bitrix/js/main/core/core_uploader/file.js"],"names":["window","BX","statuses","new","ready","preparing","inprogress","done","failed","stopped","changed","uploaded","cnvConstr","timelimit","this","timeLimit","status","queue","UploaderUtils","Hash","prototype","image","getImage","Image","canvas","getCanvas","create","context","getContext","reader","getReader","FileReader","load","file","callback","id","callbackFail","unbindAll","onload","onerror","src","delegate","proxy_context","e","debug","removeItem","setTimeout","proxy","exec","name","bind","res","Object","toString","call","__readerOnLoad","target","result","readAsDataURL","push","failCallback","getId","setItem","item","getFirst","UploaderFileCnvConstr","fileLoader","_exec","xhr","goToNext","path","onsuccess","onfailure","_this","ajax","method","data","url","blob","start","preparePost","processData","withCredentials","responseType","send","UploaderFileFileLoader","prvw","upld","edtr","ctx","mobileNames","UploaderFile","params","limits","caller","dialogName","isNode","type","isDomNode","getFileNameOnly","value","test","tmp","bxuHandler","preview","nameWithoutExt","lastIndexOf","substr","ext","length","navigator","userAgent","date","format","isNotEmptyString","size","getFormattedSize","fields","thumb","tagName","template","editorTemplate","className","placeHolder","width","height","editorParams","events","click","clickFile","ij","key","ii","hasOwnProperty","toLowerCase","log","onCustomEvent","makePreview","preparationStatus","text","makeThumb","node","jj","indexOf","toUpperCase","setProps","replace","html","patt","repl","undefined","shift","attrs","__makeThumbEventsObj","__makeThumbEvents","addCustomEvent","isString","__bindFileNode","cells","appendChild","rows","checkProps","el2","FormToArray","elements","val","bReturn","fii","fjj","el","hiddenForm","style","display","_checkProps","innerHTML","hasAttribute","setAttribute","blur","remove","getPH","getProps","copies","copy","getNext","getThumbs","deleteFile","UploaderImage","superclass","constructor","apply","arguments","isImage","Uploader","getInstanceName","parseInt","makeCopies","extend","makePreviewImageWork","adjust","props","drawImage","applyFile","res2","scaleImage","destin","makePreviewImageLoadHandler","_makePreviewImageLoadHandler","_makePreviewImageFailedHandler","makePreviewImageFailedHandler","_onFileHasGotPreview","removeCustomEvent","_onFileHasNotGotPreview","tmp_url","checkPreview","cnv","realScale","prvwScale","prvwProps","bNeedCreatePicture","source","x","y","dataURI","toDataURL","dataURLToBlob","__showEditor","showEditor","eFunc","delete","clear","editor","CanvasEditor","show","title","copyCanvas","canvases","pointer","getItem"],"mappings":"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"}},{"offset": { "line": 20, "column": 0 }, "map": {"version":3,"file":"/bitrix/js/main/core/core_uploader/queue.min.js","sources":["/bitrix/js/main/core/core_uploader/queue.js"],"names":["window","BX","statuses","new","ready","preparing","inprogress","done","failed","stopped","changed","uploaded","UploaderQueue","params","limits","caller","this","dialogName","phpPostMaxSize","phpUploadMaxFilesize","uploadMaxFilesize","uploadFileWidth","uploadFileHeight","placeHolder","showImage","sortItems","uploader","itForUpload","UploaderUtils","Hash","items","itUploaded","itFailed","thumb","tagName","className","ii","hasOwnProperty","addCustomEvent","delegate","addItem","finishQueue","deleteItem","reinitItem","log","prototype","showError","text","file","being","isImage","type","isDomNode","value","onCustomEvent","copies","fileCopies","fields","fileFields","res","UploaderImage","UploaderFile","children","node","itemStatus","status","setItem","id","thumbNode","makeThumb","create","attrs","bx-bxu-item-id","isNotEmptyString","replace","trim","replaceFunction","str","tdParams","tdInnerHTML","td","insertCell","colspan","headers","accesskey","class","contenteditable","contextmenu","dir","hidden","lang","spellcheck","style","tabindex","title","translate","param","innerHTML","split","pop","length","setAttribute","regex","data1","test","adjust","_onbxdragstart","onbxdragstart","_onbxdragstop","onbxdragstop","_onbxdrag","onbxdrag","_onbxdraghout","onbxdraghout","_onbxdestdraghover","onbxdestdraghover","_onbxdestdraghout","onbxdestdraghout","_onbxdestdragfinish","onbxdestdragfinish","addClass","jsDD","registerObject","registerDest","appendChild","getItem","item","proxy_context","getAttribute","template","RegExp","__dragCopyDiv","position","zIndex","width","clientWidth","html","__dragCopyPos","pos","document","body","c","c1","it","canvas","cloneNode","parentNode","replaceChild","getContext","drawImage","removeClass","removeChild","x","y","div","deltaX","left","deltaY","top","currentNode","hasClass","obj","n","childNodes","j","number","hasItem","act","nextSibling","buff","removeItem","insertBeforeItem","insertBefore","pointer","onmousedown","__bxpos","arObjects","__bxddid","arDestinations","__bxddeid","unbindAll","firstChild","remove","clear","getFirst","restoreFiles","data","restoreError","restoreUpload","reset","copy","getNext"],"mappings":"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"}}]}